import{T as v,E as n,I as u,s as i,D as b,_ as p}from"./tab-a70719f0.js";import{j as T,a as k,o as l,c as m,d as x,b as e,F as C,i as D,k as I,v as N,t as d,n as h}from"./index-dbed84d8.js";import{_ as B}from"./plugin-vueexport-helper-c27b6911.js";BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");BigInt("1000000000000000000");const F=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1);BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const r=[{name:"NFD",address:"0x8546a2cada887f7579844e8f4f241fe513036289"},{name:"BKC",address:"0x0529d2760e0db2d7ff853b7cbcc5cf2706228005"},{name:"QMGF",address:"0xa8ed503516a3570ae426be4f8412450c236519c5"}],w={data(){return{test:"选项一",showPopover:!1,actions:r,tokenID:null,selected:r[0].address,count:0,menu:r[0].address,value:r[0].name,nftAmount:0}},components:{Tab:v},computed:{},async mounted(){this.count=await n.ERC721BalanceOf(u),this.nftAmount=await n.getNFTNeedAmount()},methods:{async mint(){if(!this.tokenID){i({message:"请输入NFT编号"}).then(()=>{});return}const t=await n.ownerOf(this.selected,this.tokenID.toString());if(T().address!=t){i({message:this.$t("message.nftNotOwner")}).then(()=>{});return}n.approval(b,u,F).then(s=>{n.mintNFT(this.selected,this.tokenID).then(c=>{i({message:`${c.message}`}).then(()=>{})}).catch(c=>{i({message:`${c}`}).then(()=>{})})})},async checkNFT(){if(this.tokenID!=null){var t=await n.nftCheck(this.selected,this.tokenID),s=this.$t("message.nftCheckCanTip");t.code!=200&&(s=this.$t("message.nftCheckCannotTip")),i({message:s})}},menuChange(t,s){this.menu=t,this.selected=t,this.value=s}}},y={class:"box-nft"},A={class:"content"},S={class:"background"},E={class:"boydey"},O={class:"menu"},R=["value","onClick"],M={class:"number"},$={class:"numberText"},K=["placeholder"],L={class:"dkamount"},V={class:"imgs"},H={class:"imgBreaground"},U={class:"bageText"},j={class:"foot"},z={class:"footText"},G=["innerHTML"];function P(t,s,c,Q,a,o){const _=k("Tab");return l(),m("div",y,[x(_),e("div",A,[e("div",S,[e("div",E,[e("div",O,[(l(!0),m(C,null,D(a.actions,(f,g)=>(l(),m("div",{key:g,value:f.address,class:h(`${this.menu===f.address?"menu1 menu2":"menu1"}`),onClick:q=>o.menuChange(f.address,f.name)},d(f.name),11,R))),128))]),e("div",M,[e("div",$,[I(e("input",{class:"input","onUpdate:modelValue":s[0]||(s[0]=f=>a.tokenID=f),type:"text",placeholder:`请输入${this.value}编号`},null,8,K),[[N,a.tokenID]]),e("div",{class:"btn",onClick:s[1]||(s[1]=(...f)=>o.checkNFT&&o.checkNFT(...f))},d(t.$t("message.nftCheck")),1)])]),e("div",L,"10u ≈ "+d(Number(a.nftAmount).toFixed(2))+"DK",1),e("div",{class:"but",onClick:s[2]||(s[2]=(...f)=>o.mint&&o.mint(...f))},d(t.$t("message.textCast")),1)])]),e("div",V,[e("div",H,[e("img",{class:h(this.count>0?"bage":"bage-no"),src:p,alt:""},null,2),e("div",U,"x"+d(a.count),1)])]),e("div",j,[e("div",z,[e("div",{innerHTML:t.$t("message.nftTextRule")},null,8,G)])])])])}const Y=B(w,[["render",P],["__scopeId","data-v-2bfab23e"]]);export{Y as default};
