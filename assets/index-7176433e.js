import{T as v,E as n,I as m,s as i,u as p,D as T,_ as k}from"./tab-829cd767.js";import{_ as b,a as x,o as r,c as u,d as C,b as e,F as D,i as I,j as N,v as B,t as d,n as h}from"./index-623e381a.js";BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");BigInt("1000000000000000000");const F=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1);BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const l=[{name:"NFD",address:"0x8546a2cada887f7579844e8f4f241fe513036289"},{name:"BKC",address:"0x0529d2760e0db2d7ff853b7cbcc5cf2706228005"},{name:"QMGF",address:"0xa8ed503516a3570ae426be4f8412450c236519c5"}],y={data(){return{test:"选项一",showPopover:!1,actions:l,tokenID:null,selected:l[0].address,count:0,menu:l[0].address,value:l[0].name,nftAmount:0}},components:{Tab:v},computed:{},async mounted(){this.count=await n.ERC721BalanceOf(m),this.nftAmount=await n.getNFTNeedAmount()},methods:{async mint(){if(!this.tokenID){i({message:"input nft code"}).then(()=>{});return}const t=await n.ownerOf(this.selected,this.tokenID.toString());if(p().address!=t){i({message:"this is not yours nft!"}).then(()=>{});return}n.approval(T,m,F).then(s=>{n.mintNFT(this.selected,this.tokenID).then(c=>{i({message:`${c.message}`}).then(()=>{})}).catch(c=>{i({message:`${c}`}).then(()=>{})})})},async checkNFT(){if(this.tokenID!=null){var t=await n.nftCheck(this.selected,this.tokenID),s=this.$t("message.nftCheckCanTip");t.data&&(s=this.$t("message.nftCheckCannotTip")),i({message:s})}},menuChange(t,s){this.menu=t,this.selected=t,this.value=s}}},A={class:"box-nft"},w={class:"content"},S={class:"background"},E={class:"boydey"},R={class:"menu"},M=["value","onClick"],O={class:"number"},$={class:"numberText"},K=["placeholder"],L={class:"dkamount"},V={class:"imgs"},H={class:"imgBreaground"},U={class:"bageText"},j={class:"foot"},z={class:"footText"},G=["innerHTML"];function P(t,s,c,Q,a,o){const _=x("Tab");return r(),u("div",A,[C(_),e("div",w,[e("div",S,[e("div",E,[e("div",R,[(r(!0),u(D,null,I(a.actions,(f,g)=>(r(),u("div",{key:g,value:f.address,class:h(`${this.menu===f.address?"menu1 menu2":"menu1"}`),onClick:q=>o.menuChange(f.address,f.name)},d(f.name),11,M))),128))]),e("div",O,[e("div",$,[N(e("input",{class:"input","onUpdate:modelValue":s[0]||(s[0]=f=>a.tokenID=f),type:"text",placeholder:`请输入${this.value}编号`},null,8,K),[[B,a.tokenID]]),e("div",{class:"btn",onClick:s[1]||(s[1]=(...f)=>o.checkNFT&&o.checkNFT(...f))},d(t.$t("message.nftCheck")),1)])]),e("div",L,"10u ≈ "+d(Number(a.nftAmount).toFixed(2))+"DK",1),e("div",{class:"but",onClick:s[2]||(s[2]=(...f)=>o.mint&&o.mint(...f))},d(t.$t("message.textCast")),1)])]),e("div",V,[e("div",H,[e("img",{class:h(this.count>0?"bage":"bage-no"),src:k,alt:""},null,2),e("div",U,"x"+d(a.count),1)])]),e("div",j,[e("div",z,[e("div",{innerHTML:t.$t("message.nftTextRule")},null,8,G)])])])])}const X=b(y,[["render",P],["__scopeId","data-v-20e2d2ef"]]);export{X as default};
